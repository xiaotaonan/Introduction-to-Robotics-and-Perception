# 2.2.3 期望

对于许多机器人应用，我们希望机器人能够长时间运行。我们可能希望垃圾分类机器人能够运行数周、数月甚至更长时间，在运行过程中将大量垃圾放入垃圾箱。再次假设机器人只是始终选择将垃圾放入纸箱。那么，关于机器人生命周期内将产生的成本，我们该如何估算呢？概率论中，我们无法对特定结果做出任何明确的预测；然而，我们可以对多次试验的平均行为做出预测。这就是概率论中期望的概念。

假设随机变量$$X$$取值于有限集$$X \in \{x_1,...,x_n\}$$。$$X$$的预期值（我们将其表示为$$E[X]$$）定义为：

$$E[X]=\sum_{i=1}^{n}x_ip_X(x_i)$$ （公式2.6）

对于上面的例子，成本的预期值$$E[X]$$表示为：

$$E[X]=(0 \times 0.20)+(0 \times 0.30)+(5 \times 0.25)+(10 \times 0.20)+(3 \times 0.05)=3.40$$ （公式 2.7）

请注意，我们从未真正期望看到成本$$3.40$$。预期值是一个技术术语，由上面的等式定义。预期值与我们在多次试验中取平均值时期望看到的结果有关。例如，如果我们掷一个公平的六面骰子，令$$X$$表示顶面上的点数，则很容易证明$$E[X]=3.50$$。当然，我们永远不会掷出$$3.50$$，但如果我们掷骰子$$100$$ 次并取这些点数的平均值，我们预期平均值接近$$3.50$$。我们将在下面更详细地讨论这一点。

在 Python 中，我们可以通过将$$4 \times 5$$成本矩阵与$$5 \times 1$$PMF 相乘来计算每个动作的预期成本：

```
Category = VARIABLES.discrete("Category", categories)
category_prior = gtsam.DiscreteDistribution(Category, "200/300/250/200/50")
pretty(category_prior)
```

| Category    | Value |
| ----------- | :---: |
| cardboard   |  0.20 |
| paper       |  0.30 |
| can         |  0.25 |
| scrap metal |  0.20 |
| bottle      |  0.05 |

```
cost @ category_prior.pmf()
```

```
array([3.2, 0.6, 3.4, 1. ])
```

结果是一个数组，其中每个条目对应特定操作的预期成本。因此，这个数组封装了我们所知道的关于执行四种可能操作的预期成本的所有信息。我们将在本章后面使用它来构建简单的规划基础。

如果您不清楚为什么这样做，请写出上面描述的矩阵乘法表达式，并与每个动作的预期成本方程进行比较。
