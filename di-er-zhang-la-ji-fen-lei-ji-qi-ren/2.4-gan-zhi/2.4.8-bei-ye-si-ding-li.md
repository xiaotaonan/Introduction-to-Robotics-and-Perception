# 2.4.8 贝叶斯定理

> 贝叶斯定理指出后验概率是似然概率乘以先验概率。

有了上面讨论的公式，我们现在可以推导出贝叶斯定理。该定理使我们能够根据传感器观测值$$z$$推断出关于变量（比如机器人状态$$X$$）的知识。该定理以托马斯·贝叶斯牧师的名字命名，他是一位十八世纪的牧师，晚年对概率产生了兴趣。下一章我们将讨论的贝叶斯网络也以他的名字命名。

贝叶斯定理使我们能够在给定$$Z$$的观测值的情况下计算变量$$X$$的后验概率分布$$P(X|Z=z)$$\
。在应用贝叶斯定理时，我们使用术语“先验”来表示在看到变量$$X$$的证据之前我们对该变量所掌握的知识，使用术语“后验”来表示在纳入证据之后的知识。在我们的例子中，证据是观测值\
。为了计算后验，我们需要的元素是先验概率分布$$P(X)$$、对测量建模的条件概率分布$$P(Z|X)$$和值$$z$$本身。给定这些元素，我们可以计算$$X$$的后验概率分布：

$$P(X|Z=z)=\frac{P(Z=z|X)P(X)}{P(Z=z)}$$（公式2.29）

证明很简单，只需以两种方式应用链式法则：

$$P(Z|X)P(X)=P(X,Z)=P(X|Z)P(Z)$$（公式2.30）

正如我们已经看到的，由于观测值已知，我们可以使用似然函数$$L(X;z) \infty P(Z=z|X)$$的定义并将其代入上面的表达式中。此外，请注意，上面的量$$P(Z=z)$$仅充当归一化常数。鉴于这两个事实，我们可以用更直观、更容易记住的方式表述贝叶斯定理，如下所示：

$$P(X|Z=z) \infty L(X;z)P(X)$$（公式 2.31）

或者“后验概率与先验概率加权后的似然概率成正比。”

最后，在实际计算后验概率时，除了联合分布之外，根本不需要考虑其他因素。事实上，根据链式法则，我们有$$P(Z=z|X)P(X)=P(X,Z=z)$$，而$$P(Z=z)$$只是一个归一化因子，我们得到了贝叶斯定理的第三种形式，也是最简单的形式：

$$P(X|Z=z) \infty P(X,Z=z)$$ （公式 2.32）

因此，如果我们给出联合概率条目$$P(X,Z)$$的公式或表格，则只需选择所有符合$$Z=z$$规范的条目即可，瞧！
