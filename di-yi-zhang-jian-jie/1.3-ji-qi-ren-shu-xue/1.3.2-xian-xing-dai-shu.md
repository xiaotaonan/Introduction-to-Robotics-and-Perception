# 1.3.2 线性代数

>
>
> 即使在非线性世界中，线性代数也是一种强大的数学工具。

线性代数在机器人技术中无处不在，从低级控制到关于最优策略的高级推理。这乍一看可能令人惊讶。毕竟，机器人技术中几乎所有东西，从低级动态模型到高级策略优化，都是非线性的。然而，线性代数可以用来解决机器人技术中的许多问题。

线性代数最明显的用途或许是求解线性方程组。这在机器人技术中经常出现。例如，在第三章中，我们通过求解线性方程组来估计特定策略的价值函数。有趣的是，对于特定的给定策略，这个问题是线性的，即使计算最优价值函数的问题是非线性的。这一特性促成了一种称为策略迭代的算法的有效实现，该算法 (a) 使用最优价值函数的当前估计来更​​新对最优策略的猜测；(b) 通过求解线性方程组来计算改进策略的精确价值函数；以及 (c) 使用这个新的价值函数作为最优价值函数的新猜测进行迭代。线性求解器是该算法的主力。

线性代数最强大的用途之一在于我们表示连续变量的概率分布。高斯密度可以用一个向量和一个矩阵来描述：高斯密度的均值和协方差。这种在潜在高维连续空间中对密度的简单表示既紧凑，又允许使用线性代数的方法进行操作。不出所料，多个连续变量的复杂密度可以用高斯贝叶斯网络和/或高斯因子图来表示，然后可以通过 GTSAM 等库进行非常高效的操作。最后，即使是非线性关系也可以用线性近似来近似，这在我们下面讨论优化时会非常有用。

卡尔曼滤波器是机器人技术的基础工具之一。特别是对于具有高斯噪声的线性系统，例如第 4 章中的物流机器人，不确定性会随着机器人执行动作而增加；如果每个动作的结果都不确定，那么一系列动作就会累积不确定性。令人高兴的是，通过使用传感器测量，可以减少不确定性。许多问题立即浮现在脑海中。我们如何在数学上模拟不确定性的传播？我们如何量化使用传感器数据可以实现的不确定性的降低？将预测（使用动作模型和相关的不确定性）和观察（来自传感器数据）结合起来以更新机器人状态估计的最佳方法是什么？这些问题的答案促成了著名的卡尔曼滤波器的发展，我们将在第 4 章中介绍它。事实证明，每个问题的答案都是使用线性代数来表述的。

线性代数一个不太明显的用途是表示物体的方向。我们都知道方向涉及角度和三角函数，例如正弦和余弦，因此，我们能够构建矩阵（称为旋转矩阵）来编码笛卡尔坐标系的方向，这可能会令人惊讶。这种方法适用于二维和三维场景，最重要的是，旋转的组合（例如，无人机绕其$$z$$轴偏航角度$$\phi$$，然后绕其$$x$$轴向前滚动角度$$\theta$$）只需将相应的旋转矩阵相乘即可​​实现：$$R_final=R_{z,\phi}R_{x,\phi}$$。此外，旋转矩阵的逆对应于执行相反的旋转。简而言之，只需应用线性代数的基本工具即可轻松处理物体旋转。

我们可以进一步拓展这个想法，构建一个稍大的矩阵，其中包含旋转矩阵（作为子矩阵）和坐标系原点的位置。这些矩阵称为齐次变换矩阵，它们可以用于编码位置和方向。与旋转矩阵一样，平移和旋转的连续组合只需将相应的齐次变换矩阵相乘即可​​实现，而执行相反的平移和旋转则对应于矩阵的逆。第六章中，我们将分别介绍类车机器人二维情况（平面旋转和平移）和第七章中无人机三维情况的旋转矩阵和齐次变换矩阵。

或许最令人惊讶的是，速度之间的关系总是可以编码为从一个向量空间到另一个向量空间的线性映射。设想一个差速驱动机器人，它有两个独立旋转的轮子。随着这些轮子的旋转，机器人将在世界中移动，改变其位置和方向。两个轮子的角速度与机器人的线速度和角速度之间的瞬时关系是线性的！编码这种关系的矩阵称为雅可比矩阵（它可能包含随时间变化的项，这些项是配置变量的非线性函数）。你可能还记得高级微积分课程中的雅可比矩阵。如果是这样，你可能还记得函数的雅可比矩阵将函数输入的导数与其输出的导数联系起来。即使对于高度非线性的函数，这些导数之间的瞬时关系也是线性的，并用雅可比矩阵表示。我们将在第 4 章中看到全向机器人的雅可比矩阵，在第 5 章中看到 DDR 的雅可比矩阵，在第 7 章中看到无人机动力学的雅可比矩阵。
