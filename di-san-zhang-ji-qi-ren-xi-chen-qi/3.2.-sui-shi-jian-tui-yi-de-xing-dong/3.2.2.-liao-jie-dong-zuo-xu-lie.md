# 3.2.2. 了解动作序列

> 从 1 到 多个动作。

我们如何使用上述内容来预测执行多个作时会发生什么？形式上，假设我们应用一系列动作$$a_1,a_2 \cdots a_k$$，并且我们希望计算与结果状态$$X_{k+1}$$相关的概率分布。下面，我们通过应用总概率定律来实现这一点。

总概率定律提供了一种通过考虑事件可能发生的所有不同方式来计算事件概率的便捷方法。假设我们有一组事件$$B=\{B_1,\dots,B_n\}$$，$$B_i \cap B_j= \empty$$当$$i \neq j$$和 with 时，即$$\cup B_i = \Omega$$\
事件集$$B$$形成样本空间的分区。为了计算事件$$A$$的概率，总概率定律由下式给出

$$P(A)=\sum_i P(A|B_i)P(B_i)$$ （公式3.1）

我们只是将每个事件$$P(A|B_i)B_i$$的条件概率相加，由事件$$B_i$$的概率加权。

我们可以使用总概率定律，通过调节时间步$$k$$的可能状态来计算机器人在时间步$$k+1$$中处于状态$$x_{k+1}$$的概率：

$$P(X_{k+1}=x_{k+1})=\sum_{x_k} P(X_{k+1}=x_{k+1}|X_k=x_k)P(X_k=x_k)$$ （公式3.2）

现在，将上述方程中的每个项都条件为动作序列$$a_1 \cdots a_k$$，我们得到

$$P(X_{k+1}|a_1 \cdots a_k)=\sum_{xk} P(X_{k+1}|X_k,a_1 \cdots a_k)P(X_k|a_1 \cdots a_k)$$（公式3.3）

