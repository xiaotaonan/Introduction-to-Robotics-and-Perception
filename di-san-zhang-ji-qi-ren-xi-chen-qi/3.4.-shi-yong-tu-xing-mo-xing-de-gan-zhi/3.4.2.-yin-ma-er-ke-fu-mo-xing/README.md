# 3.4.2. 隐马尔可夫模型

> HMM 为随时间变化的感知提供了一个通用框架。

在上一节中，我们讨论了动态贝叶斯网络，以通过采取行动来模拟机器人状态如何随时间演变，以及度量如何与特定状态相关联。在本节中，我们将询问如何仅根据观察结果（即在不知道状态的情况下）恢复机器人的状态：状态是 “隐藏的”。在这里，我们将考虑一个通用框架来回答这个问题。

隐马尔可夫模型或 HMM 是一种动态贝叶斯网络，它有两种类型的变量： states $$X$$\
和 measurements $$Z$$。状态$$X$$按顺序连接并满足马尔可夫属性：状态$$X_k$$的概率仅取决于前一个状态$$X_{k-1}$$的值。正如我们之前看到的，我们将具有 thisproperty 的随机变量序列称为马尔可夫链。此外，在 HMM 中，我们将状态$$X$$称为隐藏状态，因为通常我们无法直接观察它们的值。相反，它们是通过 measurements $$Z$$间接观察的，其中每个隐藏状态都有一个测量值。当这两个属性都满足时，我们将这个概率模型称为隐马尔可夫模型。

<figure><img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1).png" alt=""><figcaption><p>图1 三个时间步长的 HMM，表示为贝叶斯网。</p></figcaption></figure>

图 2 显示了三个时间步长的 HMM 示例，即$$X=\{X_1,X_2,X_3\}$$和$$Z=\{Z_1,Z_2,Z_3\}$$。如上所述，在贝叶斯网络中，每个节点都与条件分布相关联： 马尔可夫链具有先验$$P(X_1)$$概率和过渡概率$$P(X_2|X_1)$$和$$P(X_3|X_2)$$，而度量$$Z_k$$仅取决于状态$$X_k$$，由测量模型$$P(Z_k|X_k)$$建模。换句话说，与此 HMM 关联的贝叶斯网编码以下联合分布$$P(X,Z)$$：

$$P(X,Z)=P(X_1)P(Z_1|X_1)P(X_2|X_1)P(Z_2|X_2)P(X_3|X_2)P(Z_3|X_3)$$

请注意，我们也可以更简洁地写成

$$P(X,Z)=P(Z|X)P(X)$$（公式3.22）

哪里

$$P(X)=P(X_1,X_2,X_3)=P(X_1)P(X_2|X_1)P(X_3|X_2)$$（公式3.23）

是 priorover statetrajectories，给定轨迹的测量概率分布由下式给出

$$P(Z|X)=P(Z_1|X_1)P(Z_2|X_2)P(Z_3|X_3)$$（公式3.24）
