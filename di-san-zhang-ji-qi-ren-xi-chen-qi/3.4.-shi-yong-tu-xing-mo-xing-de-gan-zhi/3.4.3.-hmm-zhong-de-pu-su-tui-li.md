# 3.4.3. HMM 中的朴素推理

> 推理很容易天真地实现，但效率低得无可救药。

正如我们在上面看到的，执行推理的一种方法是应用贝叶斯定理来获得状态轨迹上的后验概率分布的表达式$$X$$，给定测量值$$Z=\xi$$：

$$P(X|Z) \propto P(Z=\xi|X)P(X) = L(X;\xi)P(X)$$（公式3.25）

其中$$P(X)$$是轨迹先验的，给定$$L(X;Z=\xi) Z=\xi$$的可能性$$X$$定义为 before 作为 $$X$$的函数：

$$L(X;Z=\xi) \propto P(Z=\xi|X)=P(z_1|X_1)P(z_2|X_2)P(z_3|X_3) \propto L(X_1;Z_1)L(X_2;Z_2)L(X_3;Z_3)$$

因此，查找 MAP 估计值的天真实现$$X$$会将所有可能的轨迹制成表格$$X$$并计算每个轨迹的后验$$P(X|Z)$$。不幸的是，这个巨大表中的条目数量在状态数量上呈指数级增长。这不仅在计算上禁止了长轨迹，而且直观地表明，对于其中许多轨迹，我们正在一遍又一遍地计算相同的值。有三种不同的方法可以改善这一点：

* 分支 & 绑定
* 动态规划
* 使用因子图进行推理

分支和边界是一种强大的技术，但不会推广到连续变量;其他两种方法会。而且，我们将看到 HMM 中的动态规划是 HMM 文献中经典推理算法的基础，是最后一种方法的特例。因此，在这里我们将深入研究并立即采用最通用的方法：因子图中的推理。
