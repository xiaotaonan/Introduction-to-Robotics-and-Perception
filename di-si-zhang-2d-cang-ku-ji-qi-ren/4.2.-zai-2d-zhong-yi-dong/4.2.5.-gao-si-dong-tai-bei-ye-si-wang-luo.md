# 4.2.5. 高斯动态贝叶斯网络

> 可以再次使用 DBN 对连续空间中的随机动作进行建模。

可以使用连续动态贝叶斯网络 （DBN） 进行连续密度建模。众所周知，全向轮在执行过程中会起皮，尤其是在不平坦的地面或地毯上。因此，对与命令运动相关的不确定性进行建模非常重要。如果我们将机器人建模为离散时间系统，$$u_k = v \Delta T$$是机器人在时间\
上以恒定速度$$\Delta T$$移动时发生的位移。由于速度可以朝任何方向，因此我们有$$u_k\in\mathbb{R}^2$$\
。在没有不确定性的情况下，我们的运动模型将简单地为$$x_{k+1} = x_k + u_k$$。

鉴于使用全向轮固有的不确定性，我们将开发一个概率运动模型。回想一下，我们在上一章中创建了一个具有离散动作、状态和测量的 DBN。在这里，我们做同样的事情，除了连续密度，指定一个 DBN，它编码连续状态$$X\doteq{x_k}_{k=1}^N$$上的关节密度$$p(X|U)$$，

$$
\begin{equation}
p(X|U) = p(x_1) \prod_{k=2}^{N} p(x_{k}|x_{k-1}, u_{k-1})
\end{equation}
$$

其中，我们假设 control 变量$$U\doteq{u_k}_{k=1}^{N-1}$$是给我们的。

让我们假设我们知道机器人从仓库坐标开始$$\mu_1 =(20,10)^T$$，在正负半米左右的位置有一些声波/误差。我们可以将这些知识编码为连续高斯先验，如

$$
\begin{equation}
p(x_1) = \mathcal{N}(x_1;\mu=\mu_1,\Sigma=P) \propto \exp\{ - \frac{1}{2} (x_1-\mu_1)^TP^{-1}(x_1-\mu_1) \}
\end{equation}
$$

替换为协方差矩阵$$P=\text{diag}(0.5^2,0.5^2)$$。

高斯运动模型有点棘手。这里我们需要一个条件高斯密度，它取决于当前状态和命令运动。将不确定性纳入运动模型的常用方法是假设在机器人的标称运动中添加了随机扰动。我们可以将其建模为

$$
\begin{equation}
x_{k+1} = x_k + u_k + w_k
\end{equation}
$$

其中$$w_k$$是一个随机向量，其概率分布通常基于系统的经验观察。在我们的例子中，我们将假设这个扰动是高斯的，$$w_k \sim N(\mu,\Sigma)$$。在这种情况下，可以证明$$x_{k+1}$$给定$$x_k$$\
和$$u_k$$的条件分布由以下形式的条件高斯密度给出

$$
\begin{equation}
p(x_{k+1}|x_{k}, u_k) = \mathcal{N}(x_{k_1}; x_{k} +  u_k, \Sigma)
\end{equation}
$$

即，下一个状态的条件分布是高斯分布，其中均值等于名义（即无噪声）下一个状态$$x_k + u_k$$，方差等于运动模型中不确定性的方差。

很容易将这个运动模型推广到以下形式的线性系统

$$
\begin{equation}
x_{k+1} = A x_k + B u_k + w_k
\end{equation}
$$

这是具有加性噪声的线性时间不变 （LTI） 系统的一般形式。该矩阵$$A \in \mathbb{R}^{n \times n}$$\
称为系统矩阵，该矩阵$$B$$将控制输入$$u_k$$映射到状态空间中的向量。此通用 LTIsystem 的运动模型由下式给出

$$
\begin{equation}
p(x_{k+1}|x_{k}, u_k) = \mathcal{N}(x_{k+1};\mu=A x_{k} + B u_k, \Sigma=Q)
\end{equation}
$$

其中$$Q$$是用于运动模型协方差的 traditionalSymbol。如果我们假设机器人以 0.2m 的标准差执行动作$$u_k$$，那么我们将得到$$Q=\text{diag}(0.2^2,0.2^2)$$。
