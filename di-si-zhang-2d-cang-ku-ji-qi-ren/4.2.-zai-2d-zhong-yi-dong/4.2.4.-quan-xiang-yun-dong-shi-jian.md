# 4.2.4. 全向运动实践



> 表达相对于参考坐标系的运动。

总而言之，给定机器人身体坐标中的速度$$v$$，我们使用雅可比映射 计算相应的车轮角速度向量$$\omega = Jv$$。上述阐述可以直接推广到安装在任意位置的任意数量的轮子。需要注意的是，所选配置不是单一的，这将导致机器人只能向一个特定方向移动（或根本无法移动！)

一般来说，我们希望能够指定机器人相对于任意坐标系的运动方向，例如，相对于固定仓库坐标系或世界坐标系。在本章中，我们假设 robot 方向与 warehouse 方向一致，因此可以方便地在任一帧中的速度矢量具有相同的坐标。但是，如果我们要在状态表示中包含机器人的方向，则需要将所需的世界速度旋转到身体坐标系中。我们将在本书后面看到如何做到这一点。

如果我们确实关心方向，全向轮实际上可以用来旋转机器人以及诱导纯平移运动。考虑对所有三个轮子应用相同的恒定角速度：机器人现在只需原地旋转即可。为了在数学上表示这一点，我们可以在雅可比矩阵中添加第三列，将所需的角速度映射到车轮速度。这将允许我们向机器人发出线性速度和角速度的任意组合的命令。

最后，还有一种更通用的轮子类型，即 “麦克纳姆轮”，对于这种轮子，滚轮不与轮辋对齐，而是旋转一些（恒定的）量。这让数学稍微复杂了一点，但最终我们将再次获得一个雅可比矩阵，它将机器人速度映射到车轮角速度。我们不会进一步讨论这个问题。
